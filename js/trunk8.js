!function(g){var e,d,h="center",o="left",u="right",p="auto";function r(t){this.$element=g(t),this.original_text=this.$element.html(),this.settings=g.extend({},g.fn.trunk8.defaults)}function n(){var t,e,i,r,n=this.data("trunk8"),s=n.settings,a=s.width,l=s.side,h=s.fill,o=d.getLineHeight(this)*s.lines,u=n.original_text,c=u.length,f="";if(this.html(u),a===p){if(this.height()<=o)return;for(t=0,e=c-1;t<=e;)if(i=t+(e-t>>1),r=d.eatStr(u,l,c-i,h),this.html(r),this.height()>o)e=i-1;else t=i+1,f=f.length>r.length?f:r;if(this.html(""),this.html(f),s.tooltip)this.attr("title",u)}else if(!isNaN(a)){if(i=c-a,r=d.eatStr(u,l,i,h),this.html(r),s.tooltip)this.attr("title",u)}else g.error('Invalid width "'+a+'".')}r.prototype.updateSettings=function(t){this.settings=g.extend(this.settings,t)},e={init:function(i){return this.each(function(){var t=g(this),e=t.data("trunk8");if(!e)t.data("trunk8",e=new r(this));e.updateSettings(i),n.call(t)})},update:function(e){return this.each(function(){var t=g(this);if(e)t.data("trunk8").original_text=e;n.call(t)})},revert:function(){return this.each(function(){var t=g(this).data("trunk8").original_text;g(this).html(t)})},getSettings:function(){return this.get(0).data("trunk8").settings}},(d={eatStr:function(t,e,i,r){var n,s,a=t.length,l=d.eatStr.generateKey.apply(null,arguments);if(d.eatStr.cache[l])return d.eatStr.cache[l];if("string"!=typeof t||0===a)g.error('Invalid source string "'+t+'".');if(i<0||a<i)g.error('Invalid bite size "'+i+'".');else if(0===i)return t;if("string"!=typeof(r+""))g.error("Fill unable to be converted to a string.");switch(e){case u:return d.eatStr.cache[l]=g.trim(t.substr(0,a-i))+r;case o:return d.eatStr.cache[l]=r+g.trim(t.substr(i));case h:return n=a>>1,s=i>>1,d.eatStr.cache[l]=g.trim(d.eatStr(t.substr(0,a-n),u,i-s,""))+r+g.trim(d.eatStr(t.substr(a-n),o,s,""));default:g.error('Invalid side "'+e+'".')}},getLineHeight:function(t){var e,i=g(t),r=i.css("float"),n=i.css("position"),s=i.html(),a="line-height-test";if("none"!==r)i.css("float","none");if("absolute"===n)i.css("position","static");return i.html("i").wrap('<div id="'+a+'" />'),e=g("#"+a).innerHeight(),i.html(s).css({float:r,position:n}).unwrap(),e}}).eatStr.cache={},d.eatStr.generateKey=function(){return Array.prototype.join.call(arguments,"")},g.fn.trunk8=function(t){if(e[t])return e[t].apply(this,Array.prototype.slice.call(arguments,1));else if("object"==typeof t||!t)return e.init.apply(this,arguments);else g.error("Method "+t+" does not exist on jQuery.trunk8")},g.fn.trunk8.defaults={fill:"&hellip;",lines:1,side:u,tooltip:!0,width:p}}(jQuery);